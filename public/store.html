<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Store Dashboard</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <header class="store-nav">
        <div class="nav-left">
            <h1>Community Store</h1>
            <nav>
                <button class="nav-link" data-scroll="catalog-section">Catalog</button>
                <button class="nav-link" data-scroll="cart-section">Cart</button>
                <button class="nav-link" data-scroll="history-section">History</button>
            </nav>
        </div>
        <div class="nav-right">
            <div class="user-chip">
                <span id="user-name">User</span>
                <small id="user-email"></small>
            </div>
            <button id="open-settings" class="btn btn-secondary slim">Settings</button>
            <button id="logout-btn" class="btn btn-secondary slim">Logout</button>
        </div>
    </header>

    <section id="settings-panel" class="settings-panel hidden">
        <div class="settings-header">
            <h3>Account Settings</h3>
            <button id="close-settings" class="link-btn">Close</button>
        </div>
        <form id="profile-form" class="profile-form">
            <div class="form-grid">
                <label>
                    Display Name
                    <input type="text" id="profile-fullName" maxlength="80">
                </label>
                <label>
                    Username
                    <input type="text" id="profile-username" minlength="3" maxlength="30">
                </label>
                <label>
                    Email
                    <input type="email" id="profile-email">
                </label>
                <label>
                    Bio
                    <input type="text" id="profile-bio" maxlength="160">
                </label>
                <label>
                    New Password
                    <input type="password" id="profile-password" minlength="6" placeholder="••••••">
                </label>
            </div>
            <div class="profile-actions">
                <button type="submit" class="btn btn-primary slim">Save Changes</button>
                <button type="button" id="confirm-logout" class="btn btn-secondary slim">Logout</button>
            </div>
            <div id="profile-message" class="message"></div>
        </form>
    </section>

    <main id="store-panel" class="store-panel">
        <div class="store-header">
            <div>
                <h2>Store Dashboard</h2>
                <p>Browse catalog, manage your cart, and view purchase history.</p>
            </div>
            <button id="refresh-store" class="btn btn-secondary slim">Refresh</button>
        </div>

        <div id="store-message" class="message"></div>

        <div class="store-grid">
            <section class="panel" id="catalog-section">
                <div class="panel-header">
                    <h3>Catalog</h3>
                </div>
                <form id="search-form" class="search-form">
                    <input type="text" id="catalog-search" placeholder="Search laptops, accessories, IDs..." maxlength="60" autocomplete="off">
                    <button type="submit" class="btn btn-primary slim">Search</button>
                    <button type="button" id="clear-search" class="btn btn-secondary slim">Clear</button>
                </form>
                <div id="catalog-list" class="catalog-list"></div>
            </section>

            <section class="panel" id="cart-section">
                <div class="panel-header space-between">
                    <h3>Cart</h3>
                    <div class="cart-summary">
                        <span>Total: <strong id="cart-total">$0.00</strong></span>
                        <button id="clear-cart" class="link-btn" type="button">Clear</button>
                    </div>
                </div>
                <div id="cart-list" class="cart-list empty-state">
                    <p>Your cart is empty. Add something from the catalog!</p>
                </div>
                <form id="checkout-details" class="checkout-details">
                    <h4>Shipping Address</h4>
                    <div class="form-grid">
                        <label>
                            Full Name
                            <input type="text" id="ship-name" maxlength="80" required>
                        </label>
                        <label>
                            Address Line 1
                            <input type="text" id="ship-line1" maxlength="120" required>
                        </label>
                        <label>
                            Address Line 2
                            <input type="text" id="ship-line2" maxlength="120">
                        </label>
                        <label>
                            City
                            <input type="text" id="ship-city" maxlength="60" required>
                        </label>
                        <label>
                            State / Region
                            <input type="text" id="ship-state" maxlength="60" required>
                        </label>
                        <label>
                            Postal Code
                            <input type="text" id="ship-postal" maxlength="20" required>
                        </label>
                        <label>
                            Country
                            <input type="text" id="ship-country" maxlength="60" required>
                        </label>
                    </div>
                    <h4>Payment Method</h4>
                    <div class="form-grid">
                        <label>
                            Cardholder Name
                            <input type="text" id="card-name" maxlength="80" required>
                        </label>
                        <label>
                            Card Number
                            <input type="text" id="card-number" inputmode="numeric" maxlength="19" placeholder="1234 5678 9012 3456" required>
                        </label>
                        <label>
                            Expiry (MM/YY)
                            <input type="text" id="card-expiry" placeholder="08/27" maxlength="5" required>
                        </label>
                        <label>
                            CVV
                            <input type="password" id="card-cvv" inputmode="numeric" maxlength="4" required>
                        </label>
                        <label>
                            Billing ZIP / Postal Code
                            <input type="text" id="billing-zip" maxlength="12" required>
                        </label>
                    </div>
                </form>
                <button id="checkout-btn" class="btn btn-primary" type="button" disabled>Checkout</button>
            </section>

            <section class="panel" id="history-section">
                <div class="panel-header">
                    <h3>Purchase History</h3>
                </div>
                <div id="history-list" class="history-list empty-state">
                    <p>No purchases yet. Complete a checkout to populate this timeline.</p>
                </div>
            </section>
        </div>
    </main>

    <script type="module" src="store-page.js"></script>
</body>
</html>

